<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>⛩神社クイズ⛩</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Mameron ','Mameron',sans-serif;body { background: url( 'IMG_2816.jpeg' ) 
    no-repeat center center fixed;
    background-size: cover; min-height: 100vh;
    color: #000000;display: flex;
    align-items: center;
    justify-content: center;}
    .header{background:url( '無題384_20250907042102.jpeg' ) repeat;color:#fff;background-size: 150px;
    background-color: #000;padding:30px;text-align:center}
    .header h1{font-size:2.5rem;margin-bottom:10px}
    .progress-bar{background:rgba(255,255,255,.3);border-radius:25px;height:8px;margin:20px 0 10px;overflow:hidden}
    .progress-fill{background:#fff;height:100%;border-radius:25px;transition:width .5s ease;width:0%}
    .quiz-content{padding:40px}
    .question-number{color:#666;font-size:1.1rem;margin-bottom:10px}
    .question{font-size:1.5rem;font-weight:bold;margin-bottom:30px;line-height:1.4}
    .options{display:grid;gap:15px;margin-bottom:30px}
    .option{padding:20px;border:2px solid #e0e0e0;border-radius:15px;cursor:pointer;transition:all .3s ease;font-size:1.1rem;background:#f9f9f9}
    .option:hover{border-color:#4CAF50;background:#f0f8f0;transform:translateY(-2px)}
    .option.selected{border-color:#4CAF50;background:#e8f5e8}
    .option.correct{border-color:#4CAF50;background:#d4edda;color:#155724}
    .option.incorrect{border-color:#dc3545;background:#f8d7da;color:#721c24}
    .next-btn{background:linear-gradient(135deg,#FFCED0,#FFCED0);color:#fff;border:none;padding:15px 30px;border-radius:25px;font-size:1.1rem;font-weight:bold;cursor:pointer;transition:all .3s ease;float:right;display:none}
    .next-btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(76,175,80,.4)}
    .result-screen{display:none;text-align:center;padding:40px}
    .result-emoji{font-size:5rem;margin-bottom:20px}
    .result-title{font-size:2.5rem;font-weight:bold;margin-bottom:15px}
    .result-score{font-size:3rem;font-weight:bold;margin:20px 0}
    .result-message{font-size:1.2rem;margin-bottom:30px;line-height:1.6}
    .restart-btn{background:linear-gradient(135deg,#E08F9B,#FFCED0,#F49C9F);color:#fff;border:none;padding:15px 30px;border-radius:25px;font-size:1.1rem;font-weight:bold;cursor:pointer;transition:all .3s ease}
    .restart-btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(102,126,234,.4)}
    .perfect{background:linear-gradient(135deg, #D0A900,#FFF9E6,#D0A900);color:#fff}
    .excellent{background:linear-gradient(135deg,#636363,#F1F1F1,#636363);color:#fff}
    .good{background:linear-gradient(135deg,#643220,#C97713,#643220);color:#fff}
    .average{background:linear-gradient(135deg,#F55555,#FCgcCF31,#F55555);color:#fff}
    .poor{background:linear-gradient(135deg,#000000,#000000);color:#fff}
    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-20px)}60%{transform:translateY(-10px)}}
    .bounce{animation:bounce 2s infinite}
    @keyframes confetti{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(-100vh) rotate(720deg);opacity:0}}
    .confetti{position:absolute;width:10px;height:10px;background:#FFD700;animation:confetti 3s linear infinite}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>⛩ 神社クイズ⛩</h1>
      <p>全10問に挑戦しよう！</p>
      <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
      <p id="progressText">問題 1 / 10</p>
    </div>

    <div class="quiz-content" id="quizContent">
      <div class="question-number" id="questionNumber">問題 1</div>
      <div class="question" id="questionText"></div>
      <div class="options" id="optionsContainer"></div>
      <button class="next-btn" id="nextBtn" onclick="nextQuestion()">次の問題</button>
      <div style="clear: both;"></div>
    </div>

    <div class="result-screen" id="resultScreen">
      <div class="result-emoji" id="resultEmoji"></div>
      <div class="result-title" id="resultTitle"></div>
      <div class="result-score" id="resultScore"></div>
      <div class="result-message" id="resultMessage"></div>
      <button class="restart-btn" onclick="restartQuiz()">もう一度挑戦</button>
    </div>
  </div>

  <script>
    // クイズデータ（correct を 0始まりに修正）
    const quizData = [
      { question: "手水の順番は？",
        options: ["右手→左手→持ち手", "左手→右手→持ち手", "持ち手→左手→右手", "持ち手→右手→左手"],
        correct: 1 },
      { question: "｢天神さん｣と呼ばれる神社に祀られているのは？",
        options: ["天照大御神", "応神天皇", "菅原道真", "安徳天皇"],
        correct: 2 },
      { question: "｢お諏訪さん｣と呼ばれる神社に祀られているのは？",
        options: ["応神天皇", "建御名方神", "瓊瓊杵尊", "菅原道真"],
        correct: 1 },
      { question: "神社の参拝作法として正しいのは？",
        options: ["二拍一拍一礼", "二礼二拍手三礼", "二礼二拍手一礼", "三礼二拍二礼"],
        correct: 2 },
      { question: "鳥居は神社に入る際に必ずくぐるものですが、主な意味は？",
        options: ["幸運を呼ぶ", "神と人の世との区切り", "邪気を払う", "願いを叶える"],
        correct: 1 },
      { question: "藤川天神の主なご利益はなに？",
        options: ["五穀豊穣", "合格祈願", "商売繁盛", "交通安全"],
        correct: 1 },
      { question: "諏訪神社の主なご利益はなに？",
        options: ["交通安全", "商売繁盛", "五穀豊穣", "勝運・武運長久"],
        correct: 3 },
      { question: "藤川天神の境内には「臥龍梅」と呼ばれる梅の木があります。これはどういう姿をしている？",
        options: ["龍のように幹が地を這っている", "一年中花が落ちない", "秋に花をつける", "夜になると光る"],
        correct: 0 },
      { question: "新田神社の参道には500段以上の石段があります。その段数はおよそいくつ？",
        options: ["170段", "250段", "322段", "415段"],
        correct: 2 },
      { question: "「二礼二拍手一礼」という参拝作法が正式に定められたのはどの時代？",
        options: ["平安", "江戸", "明治", "昭和"],
        correct: 2 }
    ];

    let currentQuestion = 0;
    let score = 0;
    let selectedOption = null;
    let answered = false;

    function init(){ showQuestion(); }

    function showQuestion(){
      const q = quizData[currentQuestion];
      document.getElementById('questionNumber').textContent = `問題 ${currentQuestion + 1}`;
      document.getElementById('questionText').textContent = q.question;
      document.getElementById('progressText').textContent = `問題 ${currentQuestion + 1} / ${quizData.length}`;
      document.getElementById('progressFill').style.width = ((currentQuestion)/quizData.length)*100 + '%';

      const optionsContainer = document.getElementById('optionsContainer');
      optionsContainer.innerHTML = '';
      q.options.forEach((text, i) => {
        const el = document.createElement('div');
        el.className = 'option';
        el.textContent = text;
        el.onclick = () => selectOption(i);
        optionsContainer.appendChild(el);
      });

      selectedOption = null;
      answered = false;
      document.getElementById('nextBtn').style.display = 'none';
    }

    function selectOption(i){
      if (answered) return;
      selectedOption = i;
      const options = document.querySelectorAll('.option');
      const correctAnswer = quizData[currentQuestion].correct;

      options.forEach(o => o.classList.remove('selected','correct','incorrect'));
      options.forEach((o, idx) => {
        if (idx === correctAnswer) o.classList.add('correct');
        else if (idx === selectedOption && idx !== correctAnswer) o.classList.add('incorrect');
      });

      if (selectedOption === correctAnswer) score++;
      answered = true;
      document.getElementById('nextBtn').style.display = 'block';
    }

    function nextQuestion(){
      currentQuestion++;
      if (currentQuestion < quizData.length) showQuestion();
      else showResult();
    }

    function showResult(){
      document.getElementById('quizContent').style.display = 'none';
      document.getElementById('resultScreen').style.display = 'block';

      let resultData;
      if (score === 10){
        resultData = { emoji:'🏆', title:'完璧！君たちは天才だ！',
          message:'すべての問題に正解しました😮！\n素晴らしい！', class:'perfect' };
        createConfetti();
        document.getElementById('resultEmoji').classList.add('bounce');
      } else if (score >= 8){
        resultData = { emoji:'☺️', title:'それなりにすごい！',
          message:'ほとんどの問題が正解！\nそれなりにすごい！', class:'excellent' };
      } else if (score >= 6){
        resultData = { emoji:'😀', title:'まあ、いいじゃん',
          message:'半分は取れてる！\nもう少しで優秀！', class:'good' };
      } else if (score >= 4){
        resultData = { emoji:'🙂', title:'凡人',
          message:'まずまずの成績です。\nもう一度挑戦してみましょう！', class:'average' };
      } else {
        resultData = { emoji:'😅', title:'頑張って笑',
          message:'まだまだ伸びしろがあります笑！\n勉強してもう一度挑戦笑！', class:'poor' };
      }

      document.getElementById('resultEmoji').textContent = resultData.emoji;
      document.getElementById('resultTitle').textContent = resultData.title;
      document.getElementById('resultScore').textContent = `${score} / ${quizData.length} 点`;
      document.getElementById('resultMessage').textContent = resultData.message;

      const header = document.querySelector('.header');
      header.className = `header ${resultData.class}`;
    }

    function createConfetti(){
      const colors=['#0000ff','#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7'];
      for (let i=0;i<50;i++){
        setTimeout(()=>{
          const c=document.createElement('div');
          c.className='confetti';
          c.style.left=Math.random()*100+'%';
          c.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];
          c.style.animationDelay=Math.random()*3+'s';
          c.style.animationDuration=(Math.random()*3+2)+'s';
          document.body.appendChild(c);
          setTimeout(()=>c.remove(),5000);
        }, i*100);
      }
    }

    function restartQuiz(){
      currentQuestion=0;score=0;selectedOption=null;answered=false;
      document.getElementById('quizContent').style.display='block';
      document.getElementById('resultScreen').style.display='none';
      const header=document.querySelector('.header');header.className='header';
      showQuestion();
    }

    init();
  </script>
</body>
</html>
